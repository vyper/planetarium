#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__), *%w[.. lib])

require 'planetarium'

Main {
  version Planetarium::VERSION

  description <<-TXT
    Fork of PlanetPlanet in Ruby
    
    Run 'planetarium [command] help' for more informations
  TXT

  mode(:update) {
    description 'Update planetarium'
  
    run { Planetarium::Command.update }
  }

  mode(:version) {
    description 'Show planetarium version'
    
    run { puts "Planetarium #{version}" }
  }
  
  mode(:list) {
    description 'List feeds in planetarium'
    
    run { Planetarium::Command.list }
  }
  
  run { help! }
}
